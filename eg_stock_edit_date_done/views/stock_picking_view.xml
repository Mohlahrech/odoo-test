<odoo>
    <data>

        <record id="action_update_date_done" model="ir.actions.server">
            <field name="name">Update Effective Date</field>
            <field name="model_id" ref="stock.model_stock_picking"/>
            <field name="binding_model_id" ref="stock.model_stock_picking"/>
            <field name="state">code</field>
            <field name="code">
                action = env['stock.picking'].browse(record_ids).update_date_done()
            </field>
        </record>

        <record id="view_stock_picking_inherit_view" model="ir.ui.view">
            <field name="name">view.stock.picking.inherit.view</field>
            <field name="model">stock.picking</field>
            <field name="inherit_id" ref="stock.view_picking_form"/>
            <field name="arch" type="xml">
                <xpath expr="///field[@name='date_done']" position="after">
                    <button type="object" class="fa fa-arrow-right oe_link" name="update_date_done" string="Update Effective Date" groups="eg_stock_edit_date_done.update_effective_date"
                    attrs="{'invisible': [('state', 'not in', ['done','cancel'])]}"/>
                </xpath>
            </field>
        </record>

        <record id="view_stock_picking_tree_inherit_split_wizard" model="ir.ui.view">
            <field name="name">stock.picking.tree.inherit.split.wizard</field>
            <field name="model">stock.picking</field>
            <field name="inherit_id" ref="stock.vpicktree"/>
            <field name="arch" type="xml">
                <!-- Add a column to the tree view for the button -->
                 <xpath expr="//button[@name='action_assign']" position="after">
                    <button type="object" class="fa fa-arrow-right oe_link" name="update_date_done" string="Update Effective Date" groups="eg_stock_edit_date_done.update_effective_date"
                    attrs="{'invisible': [('state', 'not in', ['done','cancel'])]}"/>
                </xpath>
            </field>
        </record>

    </data>

</odoo>